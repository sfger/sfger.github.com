!function(e){"use strict";var a=function(a){a=light.util.extend({"useAjax":!1,"dataSize":0,"pageSize":25,"pageNumber":null,"pageNumberQueryName":"pageNumber","pageSizeList":[10,25,50,100]},a);for(var n=function(){var a=function(e){return new a.prototype.init(e)};return a.prototype={"render":null,"pageCount":1,"init":function(e){this.userOptions=e;var a=e.render;a.innerHTML="",this.pageCount=Math.ceil(e.dataSize/e.pageSize),this.pageCount=this.pageCount<1?1:this.pageCount,/(^|\s)pagination-ctn(\s|$)/.test(a.className)||(a.className+=(a.className?" ":"")+"pagination-ctn");var n,t;n=e.pageNumber,e.useAjax?t="javascript:;":(this.pageNumberRegExp=new RegExp("([?&]{1}"+e.pageNumberQueryName+"=)([^&]*)"),(n=this.pageNumberRegExp.exec(location.href))&&n[2]&&(n=n[2]),n?(t=location.href.replace(this.pageNumberRegExp,"$1"),n=parseInt(n),isNaN(n)&&(n=1)):(t=location.search?location.href+"&"+e.pageNumberQueryName+"=":location.href+"?"+e.pageNumberQueryName+"=",n=1)),n=n>this.pageCount?this.pageCount:n,e.pageNumber=n,this.navishow(n,this.pageCount,t,5),a.innerHTML+='&nbsp;<div class="form"><span>\u7b2c</span><input name="'+e.pageNumberQueryName+'" class="page" type="text" value="" /><a href="javascript:;" class="go">GO</a><span>\u9875</span></div>&nbsp;<div class="desc">\u5171<span class="dataSize">'+e.dataSize+"</span>\u6761\u6570\u636e</div>",this.initEvent()},"initEvent":function(){var a=this,n=this.userOptions,t=n.render;t.children[1].children[0].onsubmit=function(){var i=getElementsByClassName("page",t)[0].value;if(i>a.pageCount?getElementsByClassName("page",t)[0].value=a.pageCount:i<1&&(getElementsByClassName("page",t)[0].value=1),isNaN(i)&&(i=1),n.useAjax)return n.pageNumber=Number(i),n.onChangePage&&n.onChangePage.call(a,n.pageNumber,a.pageCount),e.pagination(n),!1},t.children[1].children[1].onclick=function(i){i=i||e.event;var s=getElementsByClassName("page",t)[0].value;s=s>a.pageCount?a.pageCount:s<1?1:s,isNaN(s)&&(s=1),n.useAjax?(n.pageNumber=Number(s),n.onChangePage&&n.onChangePage.call(a,n.pageNumber,a.pageCount),e.pagination(n)):location.href=location.href.replace(a.pageNumberRegExp,"$1"+s),i.stopPropagation()},n.useAjax&&(t.onclick=function(t){var i=(t=t||e.event).target||t.srcElement;/(^|\s)pn(\s|$)/.test(i.className)&&(n.pageNumber=Number(i.getAttribute("pageNumber")),n.onChangePage&&n.onChangePage.call(a,n.pageNumber,a.pageCount),e.pagination(n))})},"getNaviNode":function(e,a,n){this.userOptions.useAjax||(e=e.replace(this.pageNumberRegExp,"$1"+a)),e='<a href="'+e+'" pageNumber="'+a+'" class="pn'+function(){return"\u4e0a\u4e00\u9875"===n?" prev":"\u4e0b\u4e00\u9875"===n?" next":""}()+'">'+n+"</a>",this.userOptions.render.children[0].innerHTML+=e},"appendPlainChild":function(e){this.userOptions.render.children[0].innerHTML+='<a href="javascript:;" class="'+("..."===e?"plain":"current")+'">'+e+"</span>"},"navishow":function(e,a,n,t){t=t==undefined?11:t;var i=Math.floor(t/2),s=0;if(this.userOptions.render.innerHTML='<div class="pc"></div>',e>1&&this.getNaviNode(n,e-1,"\u4e0a\u4e00\u9875"),a<=t)for(s=1;s<=a;s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);else{if(e-2<i+2)for(s=1;s<=e;s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);else for(this.getNaviNode(n,1,1),a!=t+1&&this.appendPlainChild("..."),s=e-i+(a-e-i>0?0:a-e-i);s<=e;s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);if(a-e<i+3)for(s=e+1;s<=a;s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);else{for(s=(e=parseInt(e))+1;s<=e+i-(e-i>1?0:e-i-1);s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);a!=t+1&&this.appendPlainChild("..."),this.getNaviNode(n,a,a)}}e!=a&&this.getNaviNode(n,e+1,"\u4e0b\u4e00\u9875")}},a.prototype.init.prototype=a.prototype,a}(),t=0;t<a.renders.length;t++)a.renders[t].ui={"iPagination":n(light.util.extend(!0,{"render":a.renders[t]},a))}};e.pagination=a}(window);
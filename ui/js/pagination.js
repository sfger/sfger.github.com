!function(e){"use strict";var a=function(a){a=light.util.extend({useAjax:!1,dataSize:0,pageSize:25,pageNumber:null,pageNumberQueryName:"pageNumber",pageSizeList:[10,25,50,100]},a);for(var n=function(){var a=function(e){return new a.prototype.init(e)};return a.prototype={render:null,pageCount:1,init:function(e){this.userOptions=e;var a=e.render;a.innerHTML="",this.pageCount=Math.ceil(e.dataSize/e.pageSize),this.pageCount=this.pageCount<1?1:this.pageCount,/(^|\s)pagination-ctn(\s|$)/.test(a.className)||(a.className+=(a.className?" ":"")+"pagination-ctn");var n,t;n=e.pageNumber,e.useAjax?t="javascript:;":(this.pageNumberRegExp=new RegExp("([?&]{1}"+e.pageNumberQueryName+"=)([^&]*)"),n=this.pageNumberRegExp.exec(location.href),n&&n[2]&&(n=n[2]),n?(t=location.href.replace(this.pageNumberRegExp,"$1"),n=parseInt(n),isNaN(n)&&(n=1)):(t=location.search?location.href+"&"+e.pageNumberQueryName+"=":location.href+"?"+e.pageNumberQueryName+"=",n=1)),n=n>this.pageCount?this.pageCount:n,e.pageNumber=n,this.navishow(n,this.pageCount,t,5),a.innerHTML+='&nbsp;<div class="form"><span>第</span><input name="'+e.pageNumberQueryName+'" class="page" type="text" value="" /><a href="javascript:;" class="go">GO</a><span>页</span></div>&nbsp;<div class="desc">共<span class="dataSize">'+e.dataSize+"</span>条数据</div>",this.initEvent()},initEvent:function(){var a=this,n=this.userOptions,t=n.render;t.children[1].children[0].onsubmit=function(){var i=getElementsByClassName("page",t)[0].value;if(i>a.pageCount?getElementsByClassName("page",t)[0].value=a.pageCount:i<1&&(getElementsByClassName("page",t)[0].value=1),isNaN(i)&&(i=1),n.useAjax)return n.pageNumber=Number(i),n.onChangePage&&n.onChangePage.call(a,n.pageNumber,a.pageCount),e.pagination(n),!1},t.children[1].children[1].onclick=function(i){i=i||e.event;var s=getElementsByClassName("page",t)[0].value;s=s>a.pageCount?a.pageCount:s<1?1:s,isNaN(s)&&(s=1),n.useAjax?(n.pageNumber=Number(s),n.onChangePage&&n.onChangePage.call(a,n.pageNumber,a.pageCount),e.pagination(n)):location.href=location.href.replace(a.pageNumberRegExp,"$1"+s),i.stopPropagation()},n.useAjax&&(t.onclick=function(t){t=t||e.event;var i=t.target||t.srcElement;/(^|\s)pn(\s|$)/.test(i.className)&&(n.pageNumber=Number(i.getAttribute("pageNumber")),n.onChangePage&&n.onChangePage.call(a,n.pageNumber,a.pageCount),e.pagination(n))})},getNaviNode:function(e,a,n){this.userOptions.useAjax||(e=e.replace(this.pageNumberRegExp,"$1"+a));var t=function(){return"上一页"===n?" prev":"下一页"===n?" next":""}();e='<a href="'+e+'" pageNumber="'+a+'" class="pn'+t+'">'+n+"</a>",this.userOptions.render.children[0].innerHTML+=e},appendPlainChild:function(e){this.userOptions.render.children[0].innerHTML+='<a href="javascript:;" class="'+("..."===e?"plain":"current")+'">'+e+"</span>"},navishow:function(e,a,n,t){t=void 0==t?11:t;var i=Math.floor(t/2),s=0;if(this.userOptions.render.innerHTML='<div class="pc"></div>',e>1&&this.getNaviNode(n,e-1,"上一页"),a<=t)for(s=1;s<=a;s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);else{if(e-2<i+2)for(s=1;s<=e;s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);else for(this.getNaviNode(n,1,1),a!=t+1&&this.appendPlainChild("..."),s=e-i+(a-e-i>0?0:a-e-i);s<=e;s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);if(a-e<i+3)for(s=e+1;s<=a;s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);else{for(e=parseInt(e),s=e+1;s<=e+i-(e-i>1?0:e-i-1);s++)s==e?this.appendPlainChild(s):this.getNaviNode(n,s,s);a!=t+1&&this.appendPlainChild("..."),this.getNaviNode(n,a,a)}}e!=a&&this.getNaviNode(n,e+1,"下一页")}},a.prototype.init.prototype=a.prototype,a}(),t=0;t<a.renders.length;t++)a.renders[t].ui={iPagination:n(light.util.extend(!0,{render:a.renders[t]},a))}};return e.pagination=a}(window);
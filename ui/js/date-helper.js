!function(t,e){"use strict";"function"===typeof define&&define.amd?define(e):"object"===typeof exports?module.exports=e():t.date_helper=e()}(this,function(){var t=function(t){return Date.parse(t.replace(/-/g,"/"))/1e3},e=function(t,e){return(t+="").length<e?new Array(++e-t.length).join("0")+t:t},n=function(t,r){var u=r?new Date(1e3*r):new Date,i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a={"1":"st","2":"nd","3":"rd","21":"st","22":"nd","23":"rd","31":"st"},s=["","January","February","March","April","May","June","July","August","September","October","November","December"],o={"d":function(){return e(o.j(),2)},"D":function(){return o.l().substr(0,3)},"j":function(){return u.getDate()},"l":function(){return i[o.w()]},"N":function(){return o.w()+1},"S":function(){return a[o.j()]?a[o.j()]:"th"},"w":function(){return u.getDay()},"z":function(){return(u-new Date(u.getFullYear()+"/1/1"))/864e5>>0},"W":function(){var t,e=o.z(),r=364+o.L()-e,i=(new Date(u.getFullYear()+"/1/1").getDay()||7)-1;return r<=2&&(u.getDay()||7)-1<=2-r?1:e<=2&&i>=4&&e>=6-i?(t=new Date(u.getFullYear()-1+"/12/31"),n("W",Math.round(t.getTime()/1e3))):1+(i<=3?(e+i)/7:(e-(7-i))/7)>>0},"F":function(){return s[o.n()]},"m":function(){return e(o.n(),2)},"M":function(){return o.F().substr(0,3)},"n":function(){return u.getMonth()+1},"t":function(){var t;return 2==(t=u.getMonth()+1)?28+o.L():1&t&&t<8||!(1&t)&&t>7?31:30},"L":function(){var t=o.Y();return 3&t||!(t%100)&&t%400?0:1},"Y":function(){return u.getFullYear()},"y":function(){return(u.getFullYear()+"").slice(2)},"a":function(){return u.getHours()>11?"pm":"am"},"A":function(){return o.a().toUpperCase()},"B":function(){var t=60*(u.getTimezoneOffset()+60),e=3600*u.getHours()+60*u.getMinutes()+u.getSeconds()+t,n=Math.floor(e/86.4);return n>1e3&&(n-=1e3),n<0&&(n+=1e3),1==String(n).length&&(n="00"+n),2==String(n).length&&(n="0"+n),n},"g":function(){return u.getHours()%12||12},"G":function(){return u.getHours()},"h":function(){return e(o.g(),2)},"H":function(){return e(u.getHours(),2)},"i":function(){return e(u.getMinutes(),2)},"s":function(){return e(u.getSeconds(),2)},"O":function(){var t=e(Math.abs(u.getTimezoneOffset()/60*100),4);return t=u.getTimezoneOffset()>0?"-"+t:"+"+t},"P":function(){var t=o.O();return t.substr(0,3)+":"+t.substr(3,2)},"c":function(){return o.Y()+"-"+o.m()+"-"+o.d()+"T"+o.h()+":"+o.i()+":"+o.s()+o.P()},"U":function(){return Math.round(u.getTime()/1e3)}};return t.replace(/[\\]?([a-zA-Z])/g,function(t,e){return t!=e?e:o[e]?o[e]():e})},r=function(t){return new r.prototype.init(t)};return r.date=n,r.pad=e,r.strtotime=t,r.prototype={"constructor":r,"date":"","current_date":"","datetime":"","current_datetime":"","timestamp":0,"current_timestamp":0,"init":function(t){return t||(t=null),this.set_date(t),this},"get_timestamp":function(e){return isNaN(e)?t(e):e},"get_interval":function(t,e){return t||(t=null),e||(e=null),t=null===t?this.current_timestamp:this.get_timestamp(t),e=null===e?this.timestamp:this.get_timestamp(e),t-e},"get_offset":function(t,e){return t||(t=null),e||(e=null),this.get_interval(t,e)/86400},"set_date":function(t){t||(t=null),null===t&&(t=Math.round((new Date).getTime()/1e3));var e=this.get_timestamp(t);return this.timestamp=e,this.date=n("Y-m-d",e),this.datetime=n("Y-m-d H:i:s",e),this.reset_current_date()},"reset_current_date":function(){return this.set_current_date(this.timestamp)},"set_current_date":function(t){var e=this.get_timestamp(t);return this.current_timestamp=e,this.current_date=this.php_date(),this.current_datetime=this.php_date("Y-m-d H:i:s"),this},"get_offset_date":function(t,e){e||(e="d");var n,r;switch(t=parseInt(t),e){case"Y":return n=parseInt(this.php_date("Y"))+t,this.set_current_date(this.php_date(n+"-m-d H:i:s"));case"m":var u=parseInt(12*this.php_date("Y"))+parseInt(this.php_date("m"))+parseInt(t);n=Math.floor(u/12);var i=Math.floor(u%12);(i=0===i?12:i)<10&&(i="0"+i);var a=this.php_date("d H:i:s");return this.set_current_date([n,i,a].join("-"));case"w":r=7*t*86400;break;case"H":r=3600*t;break;case"i":r=60*t;break;case"s":r=t;break;default:r=86400*t}return this.set_current_date(this.current_timestamp+r)},"php_date":function(t){return t||(t="Y-m-d"),n(t,this.current_timestamp)},"get_first_date_of_month":function(){var t=-(this.php_date("j")-1);return this.get_offset_date(t)},"get_last_date_of_month":function(){var t=this.php_date("t")-this.php_date("j");return this.get_offset_date(t)},"get_first_date_of_season":function(){var e=this.current_timestamp,n=3*(Math.ceil(this.php_date("m",e)/3)-1)+1;10!=n&&(n="0"+n);var r=this.php_date("Y-"+n+"-01",e),u=(t(r)-this.current_timestamp)/86400;return this.get_offset_date(u)},"get_last_date_of_season":function(){return this.get_first_date_of_season().get_offset_date(120).get_first_date_of_season().get_offset_date(-1)}},r.prototype.init.prototype=r.prototype,r});